# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã SIGTERM

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**
- `contentPlanner.js` - –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–ø–∏—Å–∏
- `sourceStats.js` - —Ç–æ –∂–µ —Å–∞–º–æ–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ `/tmp` –≤ Docker

### 2. **–£–ª—É—á—à–µ–Ω server.js**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- Graceful shutdown —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ uncaughtException –∏ unhandledRejection
- Timeout 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

### 3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–∞–¥–µ–Ω–∏–π**
- –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–ø–∏—Å–∏
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –Ω–µ–ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö
- –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ –≤–º–µ—Å—Ç–æ –ø–∞–¥–µ–Ω–∏—è

---

## üöÄ –î–µ–ø–ª–æ–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
git add .
git commit -m "fix: SIGTERM handling and filesystem errors"
git push origin main

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git pull origin main
pm2 restart ai-bot
pm2 logs ai-bot --lines 50
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞:

–õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:
```
üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤...
üìÇ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –¥–∞–Ω–Ω—ã—Ö: /tmp/ai-bot
‚úÖ –°–µ—Ä–≤–∏—Å—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
üöÄ AI Business Bot Server –∑–∞–ø—É—â–µ–Ω!
‚è∞ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞...
‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
```

–í–º–µ—Å—Ç–æ:
```
npm error signal SIGTERM
```

---

## üê≥ –î–ª—è Docker:

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
1. –ï—Å—Ç—å volume –¥–ª—è `/data` –ò–õ–ò
2. –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/tmp` (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

```yaml
# docker-compose.yml
volumes:
  - ./data:/data  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

---

**–¢–µ–ø–µ—Ä—å –±–æ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –≤ read-only –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö!** ‚úÖ


