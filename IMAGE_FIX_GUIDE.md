# üñºÔ∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```
‚ùå –ü–æ–ø—ã—Ç–∫–∞ 1 –Ω–µ —É–¥–∞–ª–∞—Å—å: ENOENT: no such file or directory, open '/app/images/ai_business_*.png'
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **—É–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–ø–∫–∏** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:

### üîç –¢—Ä–∏ —É—Ä–æ–≤–Ω—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞–ø–æ–∫

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—É—Ç–µ–π:

1. **`./images/`** - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ VPS
2. **`/tmp/images/`** - –¥–ª—è Render/Railway (ephemeral FS)
3. **–°–∏—Å—Ç–µ–º–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–ø–∫–∞** - —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

### ‚ú® –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

#### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –∑–∞–ø–∏—Å—å
```javascript
// –°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
await fs.writeFile(testFile, 'test');
await fs.unlink(testFile);
```

#### 2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–ø–∫–∏
- –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- –ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–æ–π
- –ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é —Ñ–∞–π–ª–∞

#### 3. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /app/images
‚ö†Ô∏è –ü–∞–ø–∫–∞ /app/images –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏: EROFS
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /tmp/images
‚úÖ –ü–∞–ø–∫–∞ images –≥–æ—Ç–æ–≤–∞: /tmp/images
```

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Windows/Mac/Linux):
```
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: C:\Users\...\maxbotPA\images
‚úÖ –ü–∞–ø–∫–∞ images –≥–æ—Ç–æ–≤–∞: C:\Users\...\maxbotPA\images
```

### –î–ª—è Render/Railway (read-only FS):
```
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /app/images
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å /app/images: EROFS
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /tmp/images
‚úÖ –ü–∞–ø–∫–∞ images –≥–æ—Ç–æ–≤–∞: /tmp/images
‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–ø–æ–ø—ã—Ç–∫–∞ 1/3)...
üìç –ü—É—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: /tmp/images/ai_business_1766678822511.png
‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: /tmp/images/ai_business_1766678822511.png
‚úÖ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 234567 –±–∞–π—Ç
```

### –î–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–ø–∏—Å–∏:
```
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /app/images
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å /app/images: EROFS
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /tmp/images
‚ö†Ô∏è –ü–∞–ø–∫–∞ /tmp/images –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏: EACCES
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /var/tmp/images
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å /var/tmp/images: EACCES
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚ö†Ô∏è –†–∞–±–æ—Ç–∞—é –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ URL)
```

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ

### –§–∞–π–ª: `src/services/imageGenerator.js`

#### –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:
```javascript
import os from 'os';
```

#### –ú–µ—Ç–æ–¥ `downloadImage()` –æ–±–Ω–æ–≤–ª–µ–Ω:

**–ë—ã–ª–æ:**
- –û–¥–Ω–∞ –ø–∞–ø–∫–∞ `./images/`
- –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –∑–∞–ø–∏—Å—å

**–°—Ç–∞–ª–æ:**
- –¢—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø–∞–ø–æ–∫
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–∏
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PM2:
pm2 logs ai-bot --lines 50

# –ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –ø–∞–ø–∫–∞—Ö:
pm2 logs ai-bot | grep "–ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É"
pm2 logs ai-bot | grep "–ü–∞–ø–∫–∞ images –≥–æ—Ç–æ–≤–∞"
```

### –û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

#### ‚úÖ –£—Å–ø–µ—à–Ω–æ (–ª–æ–∫–∞–ª—å–Ω–æ):
```
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /path/to/project/images
‚úÖ –ü–∞–ø–∫–∞ images –≥–æ—Ç–æ–≤–∞: /path/to/project/images
‚úÖ –ü–∞–ø–∫–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ø–µ—Ä–µ–¥ –ø–æ–ø—ã—Ç–∫–æ–π 1
‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–ø–æ–ø—ã—Ç–∫–∞ 1/3)...
‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ
```

#### ‚úÖ –£—Å–ø–µ—à–Ω–æ (Render/Railway):
```
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /app/images
‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å /app/images: EROFS
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: /tmp/images
‚úÖ –ü–∞–ø–∫–∞ images –≥–æ—Ç–æ–≤–∞: /tmp/images
‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ
```

#### ‚ö†Ô∏è –†–∞–±–æ—Ç–∞ –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚ö†Ô∏è –†–∞–±–æ—Ç–∞—é –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ URL)
üì± –ü—É–±–ª–∏–∫—É—é –≤ Telegram –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
```

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

### Render.com / Railway.app
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/tmp/`
- ‚ö†Ô∏è –£–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ (ephemeral FS)
- ‚úÖ –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

### Heroku
- ‚úÖ –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Render (ephemeral FS)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `/tmp/` –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—É—é –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É

### VPS / Dedicated Server
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `./images/`
- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø

### Local Development
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `./images/`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏

## üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
# PM2:
pm2 restart ai-bot

# –ò–ª–∏ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞:
pm2 stop ai-bot
pm2 delete ai-bot
pm2 start ecosystem.config.js

# –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫:
npm run start
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
pm2 logs ai-bot --lines 30
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üìÇ –ü—Ä–æ–≤–µ—Ä—è—é –ø–∞–ø–∫—É: ...
‚úÖ –ü–∞–ø–∫–∞ images –≥–æ—Ç–æ–≤–∞: ...
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç:

```bash
node publish-single.js
```

## üí° –°–æ–≤–µ—Ç—ã

### –î–ª—è production (Render/Railway):
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `/tmp/` - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è
- ‚ö†Ô∏è –§–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- üí° –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ S3 –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### –î–ª—è VPS:
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∞—Ö –Ω–∞ –ø–∞–ø–∫—É `./images/`:
  ```bash
  chmod 755 images
  chown $USER:$USER images
  ```

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- ‚úÖ –ü–∞–ø–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–≠—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å:
- [LANGUAGE_UPDATE.md](./LANGUAGE_UPDATE.md) - –¥–≤—É—Ö—Å–ª–æ–π–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
- [TRANSLATION_GUIDE.md](./TRANSLATION_GUIDE.md) - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —è–∑—ã–∫–∞–º
- [PRODUCTION_SETUP.md](./PRODUCTION_SETUP.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ production

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 25 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.1 - –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –ø–∞–ø–æ–∫ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

