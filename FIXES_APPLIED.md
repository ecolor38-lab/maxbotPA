# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´

## –î–∞—Ç–∞: 27 –¥–µ–∫–∞–±—Ä—è 2025

### üîß –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≤ newsAnalyzer.js
**–§–∞–π–ª:** `src/services/newsAnalyzer.js` (—Å—Ç—Ä–æ–∫–∞ 74)
- **–ë—ã–ª–æ:** `model: 'claude-3-5-sonnet-20241022'` (–∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–æ)
- **–°—Ç–∞–ª–æ:** `model: this.config.anthropic.model` (–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `claude-3-5-haiku-20241022`

#### 2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è axios –≤ package.json
**–§–∞–π–ª:** `package.json`
- **–ë—ã–ª–æ:** `"axios": "^1.13.2"` (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- **–°—Ç–∞–ª–æ:** `"axios": "^1.6.7"` (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- **–ü—Ä–∏—á–∏–Ω–∞:** –í–µ—Ä—Å–∏—è 1.13.x –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è 1.6.7

#### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–§–∞–π–ª:** `src/config/config.js`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `validateConfig()`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `TELEGRAM_BOT_TOKEN`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ AI API –∫–ª—é—á–∞
- –í—ã–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

#### 4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω graceful shutdown –≤ collector.js
**–§–∞–π–ª:** `src/collector.js`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `SIGTERM` –∏ `SIGINT`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

---

## üìã –î–ï–ô–°–¢–í–ò–Ø –¢–†–ï–ë–£–Æ–©–ò–ï –†–£–ß–ù–û–ì–û –í–´–ü–û–õ–ù–ï–ù–ò–Ø:

### 1. ‚ö†Ô∏è –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env.example

–ò–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π –≤ –ø—É—Ç–∏, –≤–∞–º –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env.example` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

**–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:**

```bash
# –í Git Bash –∏–ª–∏ CMD (–Ω–µ PowerShell):
cd "C:\Users\–ê–Ω–¥—Ä–µ–π\OneDrive\–î–æ–∫—É–º–µ–Ω—Ç—ã\GitHub\maxbotPA"

# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª
echo. > .env.example

# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
notepad .env.example
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ —Ñ–∞–π–ª —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:**

```env
# ===========================================
# AI BUSINESS BOT - CONFIGURATION TEMPLATE
# ===========================================
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∫–∞–∫ .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
# –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env —Ñ–∞–π–ª –≤ Git!

# ===========================================
# TELEGRAM CONFIGURATION (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
# ===========================================
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
TELEGRAM_BOT_TOKEN=your_bot_token_here

# ID –∫–∞–Ω–∞–ª–∞ (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100, –Ω–∞–ø—Ä–∏–º–µ—Ä: -1001234567890)
# –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å: https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates
TELEGRAM_CHANNEL_ID=your_channel_id_here

# ===========================================
# AI API KEYS (–Ω—É–∂–µ–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω)
# ===========================================
# Anthropic Claude API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞: https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-api03-...

# OpenAI API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞: https://platform.openai.com
OPENAI_API_KEY=sk-...

# ===========================================
# POSTING SCHEDULE (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π)
# ===========================================
# –§–æ—Ä–º–∞—Ç: cron (–º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏)
# –ü—Ä–∏–º–µ—Ä—ã:
#   0 9 * * *     - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00
#   0 */3 * * *   - –∫–∞–∂–¥—ã–µ 3 —á–∞—Å–∞
#   */30 * * * *  - –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç

# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 1 (–Ω–∞–ø—Ä–∏–º–µ—Ä: —É—Ç—Ä–æ)
CRON_SCHEDULE_1=0 9 * * *

# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 2 (–Ω–∞–ø—Ä–∏–º–µ—Ä: –¥–µ–Ω—å)
CRON_SCHEDULE_2=0 14 * * *

# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 3 (–Ω–∞–ø—Ä–∏–º–µ—Ä: –≤–µ—á–µ—Ä)
CRON_SCHEDULE_3=0 19 * * *

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: Asia/Irkutsk)
TIMEZONE=Asia/Irkutsk

# ===========================================
# CONTENT SETTINGS
# ===========================================
# –Ø–∑—ã–∫ –ø–æ—Å—Ç–æ–≤: ru (—Ä—É—Å—Å–∫–∏–π) –∏–ª–∏ en (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
LANGUAGE=ru

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞ —Ä–∞–∑
MAX_NEWS_ITEMS=5

# –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –¥–Ω–µ–π
SEARCH_DAYS_BACK=7

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º –ø–∞–∫–µ—Ç–µ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
POSTS_PER_BATCH=3

# ===========================================
# SERVER SETTINGS (–¥–ª—è Express API)
# ===========================================
# –ü–æ—Ä—Ç –¥–ª—è Express —Å–µ—Ä–≤–µ—Ä–∞
PORT=3000

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
AUTO_START_SCHEDULER=false

# Node environment (development, production)
NODE_ENV=development

# ===========================================
# PROXY SETTINGS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# ===========================================
# –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –ø—Ä–æ–∫—Å–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API
# HTTPS_PROXY=http://proxy.example.com:8080
# HTTP_PROXY=http://proxy.example.com:8080

# ===========================================
# ADVANCED SETTINGS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# ===========================================
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã)
# REQUEST_TIMEOUT=30000

# –û—Ç–ª–∞–¥–∫–∞ (true/false)
# DEBUG=false
```

### 2. ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –≤–µ—Ç–∫—É –Ω–∞ main

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É
git branch

# –ï—Å–ª–∏ –Ω–µ main, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å:
git checkout main

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å:
git checkout -b main

# –ï—Å–ª–∏ —É –≤–∞—Å master, –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ main:
git branch -m master main
```

### 3. ‚ö†Ô∏è –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã
npm install

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
npm audit fix
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è `.env.example` –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
node -e "import('./src/config/config.js').then(() => console.log('‚úÖ Config OK')).catch(e => console.error('‚ùå', e.message))"
```

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–±–µ–∑ .env)
```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ .env
mv .env .env.backup

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
npm start

# –í–µ—Ä–Ω–∏—Ç–µ .env –æ–±—Ä–∞—Ç–Ω–æ
mv .env.backup .env
```

### –¢–µ—Å—Ç 3: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm run server
```

–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000

### –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```bash
curl http://localhost:3000/health
curl http://localhost:3000/api/bot/status
```

---

## üìä –°–¢–ê–¢–£–° –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

| # | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –§–∞–π–ª |
|---|--------|--------|------|
| 1 | –°–æ–∑–¥–∞—Ç—å .env.example | ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –†–£–ß–ù–û–ì–û –°–û–ó–î–ê–ù–ò–Ø | `.env.example` |
| 2 | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å Claude | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | `src/services/newsAnalyzer.js` |
| 3 | –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | `src/config/config.js` |
| 4 | –û–±–Ω–æ–≤–∏—Ç—å axios | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | `package.json` |
| 5 | Graceful shutdown | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | `src/collector.js` |
| 6 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å git branch | ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –†–£–ß–ù–û–ô –ü–†–û–í–ï–†–ö–ò | - |
| 7 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ö†Ô∏è –ü–û–°–õ–ï –†–£–ß–ù–´–• –î–ï–ô–°–¢–í–ò–ô | - |

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ `.env.example` (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ/–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –≤–µ—Ç–∫—É –Ω–∞ `main`
3. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç–µ `npm install`
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
5. ‚úÖ –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
git add .
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∂–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å Claude –≤ newsAnalyzer
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è axios –¥–æ 1.6.7
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω graceful shutdown –≤ collector.js
- –°–æ–∑–¥–∞–Ω .env.example —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π"

git push origin main
```

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! –ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ config.js
- ‚úÖ –ò–º–µ–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é

**–û—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ production: 9/10** üéâ


